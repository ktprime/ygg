<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Yggdrasill: Introduction to the Dynamic Segment Tree</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Yggdrasill
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Introduction to the Dynamic Segment Tree </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The dynamic segment tree is something between a classic segment tree and Boost ICL's <a href="http://www.boost.org/doc/libs/1_66_0/libs/icl/doc/html/index.html#boost_icl.introduction.definition_and_basic_example">interval_map</a>. You can find an example of its usage at <a class="el" href="dynamicsegmenttreeexample.html">DynamicSegmentTree Example</a>.</p>
<p>It allows you to insert (and remove) intervals that are associated with a <em>value</em>. For every point <b>x</b> in the key space, you can query for the <em>aggregate</em> of the values that contain <b>x</b>. You are free to define what an aggregate is. If your values are numbers, a reasonable aggregate may be the sum. If your values are lists of objects, an aggregate may be the concatenation of the lists, â€¦</p>
<p>This is more or less what Boost ICL's <em>interval_map</em> offers. On top of that, you can define (or use the pre-defined) <em>combiners</em>. Combiners combine different aggregate values over an interval in the key space. For example, if your values are numbers, the "max" function is a reasonable (and in fact, pre-defined) combiner. Adding this combiner to your dynamic segment tree allows you to efficiently (see TODO) query for the maximum aggregated value over any arbitrary interval in your key space. Possible combiners need to satisfy a couple of constraints, see TODO.</p>
<p>The DynamicSegmentTree needs an underlying balanced binary search tree, for which you can either use the supplied red-black tree, the weight balanced tree or the Zip Tree. The selection is done via the TreeSelector template parameter.</p>
<p>An in-depth technical description of how the dynamic segment tree works can be found at TODO.</p>
<h2>Requirements </h2>
<ul>
<li>If you use <code>double</code> as key type, interval borders will be compared using <code>operator==</code> and <code>operator!=</code>. Thus, if you want two intervals to begin / end at the same point, you must make sure that their borders really contain the same <code>double</code>.</li>
<li>The aggregate type must offer a neutral element, which also must be the default-constructed value of the type.</li>
<li>On the aggregate and value type, <code>operator+</code> and <code>operator-</code> must be defined. Together with the requirement that you need a neutral element, this especially means that you need to have a "negative aggregate space": If <code>i</code> is the neutral element, and <code>x</code> is any element of your value / aggregate type, then <code>i - x</code> must also be valid in your aggregate type! </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
